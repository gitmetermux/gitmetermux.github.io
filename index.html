<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Profile Generator</title>
  <meta name="theme-color" content="#2196f3">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 px-4 py-6">

  <h1 class="text-3xl font-bold mb-6">Tạo Profile HTML</h1>

  <div class="space-y-4">
    <input id="name" type="text" placeholder="Tên" class="w-full p-2 border rounded" />
    <input id="description" type="text" placeholder="Mô tả" class="w-full p-2 border rounded" />
    <input id="github" type="text" placeholder="GitHub username" class="w-full p-2 border rounded" />
    <input id="avatarLink" type="text" placeholder="Link ảnh đại diện (tùy chọn)" class="w-full p-2 border rounded" />
  </div>

  <div class="my-4">
    <label class="block font-semibold mb-2">Kỹ năng:</label>
    <div id="skills" class="space-y-2">
      <input type="text" placeholder="Kỹ năng 1" class="w-full p-2 border rounded" />
    </div>
    <button onclick="addSkill()" class="mt-2 text-blue-600 underline">+ Thêm kỹ năng</button>
  </div>

  <div class="my-4">
    <label class="block font-semibold mb-2">Dự án:</label>
    <div id="projects" class="space-y-4">
      <div class="space-y-2">
        <input type="text" placeholder="Tên dự án" class="w-full p-2 border rounded" />
        <input type="text" placeholder="Mô tả" class="w-full p-2 border rounded" />
        <input type="text" placeholder="Link" class="w-full p-2 border rounded" />
      </div>
    </div>
    <button onclick="addProject()" class="mt-2 text-blue-600 underline">+ Thêm dự án</button>
  </div>

  <button onclick="generateHTML()" class="mt-6 bg-blue-600 text-white px-4 py-2 rounded">Tải File HTML</button>

  <script>
    function addSkill() {
      const input = document.createElement("input");
      input.type = "text";
      input.placeholder = "Kỹ năng khác";
      input.className = "w-full p-2 border rounded";
      document.getElementById("skills").appendChild(input);
    }

    function addProject() {
      const div = document.createElement("div");
      div.className = "space-y-2";
      div.innerHTML = `
        <input type="text" placeholder="Tên dự án" class="w-full p-2 border rounded" />
        <input type="text" placeholder="Mô tả" class="w-full p-2 border rounded" />
        <input type="text" placeholder="Link" class="w-full p-2 border rounded" />
      `;
      document.getElementById("projects").appendChild(div);
    }

    function generateHTML() {
      const name = document.getElementById("name").value || "Tên bạn";
      const description = document.getElementById("description").value || "";
      const github = document.getElementById("github").value || "githubusername";
      const avatar = document.getElementById("avatarLink").value || "https://via.placeholder.com/150";

      const skillsInputs = document.querySelectorAll("#skills input");
      const skillsHTML = Array.from(skillsInputs)
        .map(s => `<span style="background:#2563eb;color:white;padding:4px 8px;border-radius:9999px;">${s.value}</span>`)
        .join(" ");

      const projectDivs = document.querySelectorAll("#projects > div");
      const projectsHTML = Array.from(projectDivs)
        .map(div => {
          const inputs = div.querySelectorAll("input");
          return `
            <div style="background:#fff;padding:16px;border-radius:8px;margin-bottom:12px;">
              <h3>${inputs[0].value}</h3>
              <p>${inputs[1].value}</p>
              <a href="${inputs[2].value}" target="_blank">Xem chi tiết</a>
            </div>
          `;
        })
        .join("");

      const htmlContent = `
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Profile ${name}</title>
  <meta name="theme-color" content="#2196f3">
</head>
<body style="font-family:sans-serif; padding:20px; background:#f9f9f9;">
  <div style="text-align:center;">
    <img src="${avatar}" style="width:120px;height:120px;border-radius:50%;border:4px solid #2563eb;">
    <h1>${name}</h1>
    <p>${description}</p>
    <p><a href="https://github.com/${github}" target="_blank">GitHub: ${github}</a></p>
  </div>
  <hr style="margin:30px 0;">
  <h2>Kỹ năng</h2>
  <div style="display:flex;flex-wrap:wrap;gap:8px;">${skillsHTML}</div>
  <h2 style="margin-top:30px;">Dự án</h2>
  ${projectsHTML}
</body>
</html>
`;

      const blob = new Blob([htmlContent], { type: "text/html" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = `profile-${github}.html`;
      link.click();
    }
  </script>

</body>
</html>
